import{s as _,e as g,a as v,c as m,g as f,b as y,i as d,l as w,n as h,d as p,r as b,o as C}from"../chunks/scheduler.acaf567e.js";import{S as U,i as x}from"../chunks/index.5c00e781.js";import{o as S}from"../chunks/auth0-spa-js.production.esm.ce0ccc5c.js";function P(i){let t,s="Login with GitHub",n,a,l="Logout",c,r;return{c(){t=g("button"),t.textContent=s,n=v(),a=g("button"),a.textContent=l},l(e){t=m(e,"BUTTON",{"data-svelte-h":!0}),f(t)!=="svelte-6w1jeg"&&(t.textContent=s),n=y(e),a=m(e,"BUTTON",{"data-svelte-h":!0}),f(a)!=="svelte-hd9vso"&&(a.textContent=l)},m(e,u){d(e,t,u),d(e,n,u),d(e,a,u),c||(r=[w(t,"click",i[2]),w(a,"click",i[1])],c=!0)},p:h,i:h,o:h,d(e){e&&(p(t),p(n),p(a)),c=!1,b(r)}}}let k="https://escript.online";function T(i){let t=null;C(async()=>{await a(),await t?.isAuthenticated()?(console.log("> User is authenticated"),l()):(console.log("> User not authenticated"),l());const e=window.location.search;if(e.includes("code=")&&e.includes("state=")){try{const o=await t?.handleRedirectCallback();o&&o.appState&&o.appState.targetUrl&&window.history.replaceState({},document.title,o.appState.targetUrl),console.log("Logged in!")}catch(o){console.log("Error parsing redirect:",o)}window.history.replaceState({},document.title,"/")}});const s=async r=>{await t?.loginWithRedirect({authorizationParams:{redirect_uri:"https://dev-p2vt4a2r3z7lnna4.auth0.com/login/callback"}})},n=async()=>{await t?.logout({logoutParams:{returnTo:k}})},a=async()=>{t=await S({domain:"dev-p2vt4a2r3z7lnna4.us.auth0.com",clientId:"uxd2OTEJV5e94Qszy0MyMPPZnbbh5S2U"})},l=()=>{};return[s,n,()=>s()]}class L extends U{constructor(t){super(),x(this,t,T,P,_,{})}}export{L as component};
