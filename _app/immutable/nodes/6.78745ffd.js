import{s as y,e as g,a as C,c as m,g as f,b,i as d,l as w,n as h,d as p,r as v,o as U}from"../chunks/scheduler.acaf567e.js";import{S as x,i as S}from"../chunks/index.5c00e781.js";import{o as P}from"../chunks/auth0-spa-js.production.esm.ce0ccc5c.js";function T(l){let t,s="Login with GitHub",n,a,i="Logout",c,r;return{c(){t=g("button"),t.textContent=s,n=C(),a=g("button"),a.textContent=i},l(e){t=m(e,"BUTTON",{"data-svelte-h":!0}),f(t)!=="svelte-6w1jeg"&&(t.textContent=s),n=b(e),a=m(e,"BUTTON",{"data-svelte-h":!0}),f(a)!=="svelte-hd9vso"&&(a.textContent=i)},m(e,u){d(e,t,u),d(e,n,u),d(e,a,u),c||(r=[w(t,"click",l[2]),w(a,"click",l[1])],c=!0)},p:h,i:h,o:h,d(e){e&&(p(t),p(n),p(a)),c=!1,v(r)}}}let _="https://escript.online";function k(l){let t=null;U(async()=>{await a(),await t?.isAuthenticated()?(console.log("> User is authenticated"),i()):(console.log("> User not authenticated"),i());const e=window.location.search;if(e.includes("code=")&&e.includes("state=")){try{const o=await t?.handleRedirectCallback();o&&o.appState&&o.appState.targetUrl&&window.history.replaceState({},document.title,o.appState.targetUrl),console.log("Logged in!")}catch(o){console.log("Error parsing redirect:",o)}window.history.replaceState({},document.title,"/")}});const s=async r=>{await t?.loginWithRedirect({authorizationParams:{redirect_uri:_}})},n=async()=>{await t?.logout({logoutParams:{returnTo:_}})},a=async()=>{t=await P({domain:"dev-p2vt4a2r3z7lnna4.us.auth0.com",clientId:"uxd2OTEJV5e94Qszy0MyMPPZnbbh5S2U"})},i=()=>{};return[s,n,()=>s()]}class L extends x{constructor(t){super(),S(this,t,k,T,y,{})}}export{L as component};
